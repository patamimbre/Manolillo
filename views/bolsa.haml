
%div.bolsa.principal.row.full-screen
    -@tipos.in_groups_of(@gr,false).each do |group|
        %div{class: "col-"+@tam_col.to_s}
            - group.each do |tipo|
                %div.tipo{ :id => tipo}
                    %h3= tipo.capitalize
                    -@productos.productos.each do |pr|
                        - if pr.tipo.eql? tipo
                            %div.producto.row{:id => pr.nombre, :class=>pr.crecimiento}
                                %p.col-7.nombre= pr.nombre
                                %p.col-3.precio= pr.precio_actual.to_s + 'â‚¬'
                                %p.col-1.estado= pr.estado
                                - if Float(pr.estado).positive?
                                    %i.col-1.fas.fa-arrow-alt-circle-up
                                - else 
                                    %i.col-1.fas.fa-arrow-alt-circle-down
    %div.botones
        %form.minimos{action: "/bolsa", method:"post"}
            %input{type:"hidden", name:"espera", value:@espera}
            %button{type:"submit", name:"caida", value:true}="Bancarrota"

        %form.reload{action: "/bolsa", method:"post"}
            %input{type:"hidden", name:"espera", value:@espera}
            %button{type:"submit", name:"actualizar", value:true}="Actualizar"

:javascript
    setInterval(function() {
        $(".reload").submit()
    }, #{@espera});